# don't touch these values (except for creating the new ones), if you want to override them, create an application.conf file
# in the same folder (don't commit it) and write there the values you want to change

addressindex.spark.app-name="ONS-address-base-batch"
addressindex.spark.app-name=${?SPARK_APP_NAME}

addressindex.spark.master="local[*]"
addressindex.spark.master=${?SPARK_MASTER}

addressindex.spark.serializer="org.apache.spark.serializer.KryoSerializer"
addressindex.spark.serializer=${?SPARK_SERIALIZER}


// number of small steps (task) that the "shuffle" stages will be splitted into
// defaults to 200, on a very small data (like tests) should be 5
// on a small data can be anything between 20 and 200
// on a large data (like the address base) should be 2001 (this triggers high-compression mode)
// values lower than 2001 may still be tried (don't forget to modify this comment)
addressindex.spark.sql.shuffle.partitions=50
addressindex.spark.sql.shuffle.partitions=${?SPARK_SQL_SHUFFLE_PARTITIONS}


// spark executors may fail if they don't have enough overhead in the heap (--executor-memory)
addressindex.spark.yarn.executor.memoryOverhead=1024
addressindex.spark.yarn.executor.memoryOverhead=${?SPARK_YARN_MEMORY_OVERHEAD}

// ElasticSearch

addressindex.elasticsearch.trigger-data-load="false"
addressindex.elasticsearch.trigger-data-load=${?ES_TRIGGER_DATA_LOAD}

addressindex.elasticsearch.nodes="localhost"
addressindex.elasticsearch.nodes=${?ES_NODES}

addressindex.elasticsearch.port="9200"
addressindex.elasticsearch.port=${?ES_PORT}

addressindex.elasticsearch.user="admin"
addressindex.elasticsearch.user=${?ES_USERNAME}

addressindex.elasticsearch.pass="this should be overridden in local application.conf"
addressindex.elasticsearch.pass=${?ES_PASSWORD}

addressindex.elasticsearch.indices.hybrid="test3"
addressindex.elasticsearch.indices.hybrid=${?ES_INDICIES_HYBRID}

addressindex.elasticsearch.index-autocreate="false"
addressindex.elasticsearch.index-autocreate=${?ES_INDEX_AUTOCREATE}

#IMPORTANT: check the comment in SparkProvider.scala where this value is used before changing it
addressindex.elasticsearch.wan-only="true"
addressindex.elasticsearch.wan-only=${?ES_WAN_ONLY}

// number of retries to send bulk injestion requests, defaults to 3, may be anything
addressindex.elasticsearch.retry.count=200
addressindex.elasticsearch.retry.count=${?ES_RETRY_COUNT}

// number of elements uploaded in the bulk injestion in bytes
addressindex.elasticsearch.batch.size.bytes="512kb"
addressindex.elasticsearch.batch.size.bytes=${?ES_BATCH_SIZE_BYTES}

// number of elements uploaded in the bulk injestion in count
addressindex.elasticsearch.batch.size.entries=500
addressindex.elasticsearch.batch.size.entries=${?ES_BATCH_SIZE_ENTRIES}

addressindex.files.csv.delivery-point="batch/src/test/resources/csv/delivery_point/read_test.csv"
addressindex.files.csv.delivery-point=${?CSV_DELIVERY_POINT}

addressindex.files.csv.blpu="batch/src/test/resources/csv/blpu/read_test.csv"
addressindex.files.csv.blpu=${?CSV_BLPU}

addressindex.files.csv.classification="batch/src/test/resources/csv/classification/read_test.csv"
addressindex.files.csv.classification=${?CSV_CLASSIFICATION}

addressindex.files.csv.crossref="batch/src/test/resources/csv/crossref/read_test.csv"
addressindex.files.csv.crossref=${?CSV_CROSSREF}

addressindex.files.csv.lpi="batch/src/test/resources/csv/lpi/read_test.csv"
addressindex.files.csv.lpi=${?CSV_LPI}

addressindex.files.csv.organisation="batch/src/test/resources/csv/organisation/read_test.csv"
addressindex.files.csv.organisation=${?CSV_ORGANISATION}

addressindex.files.csv.street="batch/src/test/resources/csv/street/read_test.csv"
addressindex.files.csv.street=${?CSV_STREET}

addressindex.files.csv.street-descriptor="batch/src/test/resources/csv/street_descriptor/read_test.csv"
addressindex.files.csv.street-descriptor=${?CSV_DESCRIPTOR}

addressindex.files.csv.successor="batch/src/test/resources/csv/successor/read_test.csv"
addressindex.files.csv.successor=${?CSV_SUCCESSOR}

addressindex.files.csv.hierarchy="batch/src/test/resources/csv/hierarchy/read_test.csv"
addressindex.files.csv.hierarchy=${?CSV_HIERARCHY}